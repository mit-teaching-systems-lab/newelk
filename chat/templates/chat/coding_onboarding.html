{% extends 'base.html' %}

{% block title %}Onboarding{% endblock %}

{% block content %}

<style>
        table, tr {
            border-collapse: collapse;
            border: 1px solid black;
        }
        #checkgroup {
            display: flex;
            flex-direction: row;
            text-align: center;
            justify-content: space-evenly;
        }

        .checkbox label {
            display: block;
        }
</style>

<form lang="en" METHOD="POST">
{% csrf_token %}
<table style="width:100%" cellpadding="10">
<col width="60%">
<col width="40%">
    {% for m in messages %}
        <tr>
            <td>{{ m }}</td>
            <td id="checkgroup">
                {% if "T:" in m %}
                        <div class="checkbox">
                            <label for="priming_{{ forloop.counter }}">Priming</label>
                            <input type="checkbox" name="{{ request.path }}_priming_{{ forloop.counter }}" id="priming_{{ forloop.counter }}" value="Priming">
                        </div>
                        <div class="checkbox">
                            <label for="eliciting_{{ forloop.counter }}">Eliciting</label>
                            <input type="checkbox" name="{{ request.path }}_eliciting_{{ forloop.counter }}" id="eliciting_{{ forloop.counter }}" value="Eliciting">
                        </div>
                        <div class="checkbox">
                            <label for="probing_{{ forloop.counter }}">Probing</label>
                            <input type="checkbox" name="{{ request.path }}_probing_{{ forloop.counter }}" id="probing_{{ forloop.counter }}" value="Probing">
                        </div>
                        <div class="checkbox">
                            <label for="evaluating_{{ forloop.counter }}">Evaluating</label>
                            <input type="checkbox" name="{{ request.path }}_evaluating_{{ forloop.counter }}" id="evaluating_{{ forloop.counter }}" value="Evaluating">
                        </div>
                        <div class="checkbox">
                            <label for="tellling_{{ forloop.counter }}">Telling</label>
                            <input type="checkbox" name="{{ request.path }}_telling_{{ forloop.counter }}" id="telling_{{ forloop.counter }}" value="Telling">
                        </div>
                        <div class="checkbox">
                            <label for="none_{{ forloop.counter }}">None</label>
                            <input type="checkbox" name="{{ request.path }}_none_{{ forloop.counter }}" id="none_{{ forloop.counter }}" value="None">
                        </div>
                </td>
                {% else %}
                    <p></p>
                {% endif %}
            </td>
        </tr>

{% endfor %}
</table>
<P>
    <INPUT TYPE="SUBMIT" VALUE="Submit">
</P>
<p>
    <input onclick="onclick=window.location.href='{{ nextpage }}'" value="Continue" type="button">
</p>
</form>

<script>
    window.onload=function(){
        {% for c in checked %}
            document.querySelector('input[name="{{ c }}"]').checked = true;
        {% endfor %}
        var nones = document.querySelectorAll('input[value="None"]');
        for (n in nones) {
            var num = n.id.split("_")[1]
            n.onclick = function() {
                document.querySelector('#priming'+str(num)).checked = false;
                document.querySelector('#eliciting_'+str(num)).checked = false;
                document.querySelector('#probing_'+str(num)).checked = false;
                document.querySelector('#evaluating_'+str(num)).checked = false;
                document.querySelector('#telling_'+str(num)).checked = false;
            }
        }

    }
</script>


{% endblock %}